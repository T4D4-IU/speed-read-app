## Prompt
  速読Webアプリケーション開発依頼（PWA対応）


  1. アプリケーションの種類:
  Webアプリケーション（Progressive Web App - PWA）


  2. 目的と概要:
  ユーザーが視線を移動させずに、効率的かつ高速にテキストを読める速読体験を提供するアプリケーションです。
  入力されたテキストを形態素解析のような手法で短く分解し、指定された速度でその分解されたテキストを順次表
  示することで、視線移動なしの読書を実現します。
  本アプリケーションは、PWAとしてデスクトップやスマートフォンのホーム画面に追加（インストール）でき、ネイ
  ティブアプリケーションに近い使用感を提供することを目標とします。

  3. 主な機能:


   * テキスト入力機能:
       * Webページからの直接読み込み: URLを入力するだけで、そのWebページの本文を抽出し、広告や余計な要素を
         除去して読書テキストとして利用します。
       * クリップボードからの貼り付け:
         クリップボードにコピーされたテキストをアプリケーションに貼り付けて読書テキストとして利用します。
   * 読書表示・カスタマイズ機能:
       * WPM（Words Per Minute）での速度設定: 1分あたりの単語数で読書速度を設定できます。
       * リアルタイム速度調整: 読書中にスライダーやボタン操作で、表示速度をリアルタイムで微調整できます。
       * フォント設定: フォントの種類、サイズ、太さ、色の変更が可能です。
       * 背景色・テーマ選択: ダークモードやセピアなど、目の疲れにくい複数のテーマを選択できます。
       * 表示位置調整: 画面内でのテキストの表示位置（中央固定、上部、下部など）をユーザーが選択できます。
   * 読書中の操作機能:
       * 一時停止・再開: ワンクリックまたはショートカットキーで、読書を一時停止・再開できます。
       * 「戻る」「進む」: 数単語または数行単位で、表示テキストを前後に移動できます。


  4. PWA要件:
   * インストール可能: デスクトップやモバイルデバイスのホーム画面にアプリケーションアイコンを追加し、ネイテ
     ィブアプリのように起動できるようにします。
   * オフライン対応: 基本的な機能（例:
     読み込み済みのテキストの表示、設定の変更）はオフラインでも利用できるようにします。
   * 高速なロード: Service Workerなどを活用し、初回アクセス後も高速にロードされるように最適化します。
   * レスポンシブデザイン:
     デスクトップ、タブレット、スマートフォンの各デバイスサイズに適応したUIを提供します。


  5. 使用技術（提案）:
   * フロントエンド: Svelte/SvelteKit (優先)、またはReact, Vue.js
     (ユーザーインターフェース、表示制御、カスタマイズ機能、Service Worker、Web App
     ManifestなどPWA関連技術)
   * バックエンド: Python (Flask または FastAPI) (Webページからの本文抽出、形態素解析処理)
       * 形態素解析ライブラリ: Janome, MeCab など
       * Webスクレイピングライブラリ: Beautiful Soup, Requests など


  6. デザインの希望:
  シンプルで直感的なユーザーインターフェース（UI）とユーザーエクスペリエンス（UX）を重視します。読書に集
  中できるような、クリーンで邪魔にならないデザインを希望します。フォントやテーマなど、ユーザーが視覚設定
  を柔軟にカスタマイズできる点を考慮してください。



## 開発計画
  新しい技術スタック:


   * フロントエンド: SvelteKit (変更なし)
   * バックエンド: Node.js with Hono (TypeScript)
       * Webスクレイピングライブラリ: axios (HTTPリクエスト) および cheerio (HTMLパース)
       * 形態素解析ライブラリ: kuromoji.js (JavaScript/TypeScriptで利用可能な日本語形態素解析ライブラリ)

  変更後の開発計画:


   1. プロジェクトの初期設定:
       * SvelteKitプロジェクトのセットアップ。
       * Node.js (TypeScript) Honoプロジェクトのセットアップ。
       * 必要なライブラリのインストール (SvelteKit: npm install, Node.js: npm install hono axios cheerio 
         kuromoji typescript @types/axios @types/cheerio @types/kuromoji ts-node).


   2. バックエンド (Node.js/Hono) 開発:
       * Webページ本文抽出API:
           * URLを受け取り、axiosでコンテンツを取得。
           * cheerioでHTMLをパースし、広告や不要な要素を除去して本文テキストを抽出するHonoエンドポイントを
             実装。
       * 形態素解析API:
           * 抽出されたテキストを受け取り、kuromoji.jsで形態素解析を行い、単語や短文のリストを返すHonoエン
             ドポイントを実装。


   3. フロントエンド (SvelteKit) 開発: (変更なし)
       * 基本UIの構築:
           * テキスト入力エリア (URL入力、クリップボード貼り付け)。
           * 読書表示エリア。
           * 設定パネル (WPM、フォント、テーマ、表示位置など)。
           * 読書操作ボタン (一時停止/再開、戻る/進む)。
       * PWA機能の実装:
           * Web App Manifestの作成と設定 (アイコン、表示モード、スタートURLなど)。
           * Service Workerの実装 (アセットのキャッシュ、オフライン対応、高速ロード)。
       * 機能連携:
           * 入力されたURLをバックエンドの本文抽出APIに送信し、結果を表示。
           * 抽出されたテキストをバックエンドの形態素解析APIに送信し、分解されたテキストを取得。
           * 取得したテキストをWPM設定に基づいて順次表示するロジックを実装。
           * リアルタイム速度調整、フォント、テーマ、表示位置のカスタマイズ機能を実装。
           * 一時停止/再開、戻る/進むの操作機能を実装。
       * レスポンシブデザイン:
           * CSSメディアクエリなどを活用し、デスクトップ、タブレット、スマートフォンの各デバイスサイズに適
             応したUIを設計・実装。

   4. テストとデバッグ: (変更なし)
       * 各機能の単体テストおよび結合テスト。
       * PWA機能のテスト (インストール、オフライン動作、高速ロード)。
       * 異なるデバイスでの表示・動作確認。


   5. デプロイ準備: (変更なし)
       * ビルドプロセスの最適化。